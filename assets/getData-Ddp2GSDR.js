var st=e=>{throw TypeError(e)};var W=(e,t,s)=>t.has(e)||st("Cannot "+s);var r=(e,t,s)=>(W(e,t,"read from private field"),s?s.call(e):t.get(e)),f=(e,t,s)=>t.has(e)?st("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),o=(e,t,s,i)=>(W(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),l=(e,t,s)=>(W(e,t,"access private method"),s);import{S as ft,s as _,n as pt,i as rt,a as it,t as yt,f as bt,c as Rt,b as nt,d as ut,r as C,u as gt}from"./index-DR9jtx59.js";var y,a,M,p,S,I,v,A,F,T,w,Q,E,x,n,P,z,H,N,K,$,q,G,ct,ot,vt=(ot=class extends ft{constructor(t,s){super();f(this,n);f(this,y);f(this,a);f(this,M);f(this,p);f(this,S);f(this,I);f(this,v);f(this,A);f(this,F);f(this,T);f(this,w);f(this,Q);f(this,E);f(this,x,new Set);this.options=s,o(this,y,t),o(this,v,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,a).addObserver(this),at(r(this,a),this.options)?l(this,n,P).call(this):this.updateResult(),l(this,n,K).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J(r(this,a),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J(r(this,a),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,l(this,n,$).call(this),l(this,n,q).call(this),r(this,a).removeObserver(this)}setOptions(t,s){const i=this.options,b=r(this,a);if(this.options=r(this,y).defaultQueryOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");l(this,n,G).call(this),_(this.options,i)||r(this,y).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,a),observer:this});const u=this.hasListeners();u&&ht(r(this,a),b,this.options,i)&&l(this,n,P).call(this),this.updateResult(s),u&&(r(this,a)!==b||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&l(this,n,z).call(this);const h=l(this,n,H).call(this);u&&(r(this,a)!==b||this.options.enabled!==i.enabled||h!==r(this,E))&&l(this,n,N).call(this,h)}getOptimisticResult(t){const s=r(this,y).getQueryCache().build(r(this,y),t),i=this.createResult(s,t);return Ct(this,i)&&(o(this,p,i),o(this,I,this.options),o(this,S,r(this,a).state)),i}getCurrentResult(){return r(this,p)}trackResult(t){const s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(r(this,x).add(i),t[i])})}),s}getCurrentQuery(){return r(this,a)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=r(this,y).defaultQueryOptions(t),i=r(this,y).getQueryCache().build(r(this,y),s);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,s))}fetch(t){return l(this,n,P).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,p)))}createResult(t,s){var et;const i=r(this,a),b=this.options,u=r(this,p),h=r(this,S),d=r(this,I),U=t!==i?t.state:r(this,M),{state:c}=t;let{error:L,errorUpdatedAt:Y,fetchStatus:D,status:O}=c,Z=!1,g;if(s._optimisticResults){const R=this.hasListeners(),V=!R&&at(t,s),dt=R&&ht(t,i,s,b);(V||dt)&&(D=Rt(t.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(O="pending")),s._optimisticResults==="isRestoring"&&(D="idle")}if(s.select&&typeof c.data<"u")if(u&&c.data===(h==null?void 0:h.data)&&s.select===r(this,A))g=r(this,F);else try{o(this,A,s.select),g=s.select(c.data),g=nt(u==null?void 0:u.data,g,s),o(this,F,g),o(this,v,null)}catch(R){o(this,v,R)}else g=c.data;if(typeof s.placeholderData<"u"&&typeof g>"u"&&O==="pending"){let R;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(d==null?void 0:d.placeholderData))R=u.data;else if(R=typeof s.placeholderData=="function"?s.placeholderData((et=r(this,T))==null?void 0:et.state.data,r(this,T)):s.placeholderData,s.select&&typeof R<"u")try{R=s.select(R),o(this,v,null)}catch(V){o(this,v,V)}typeof R<"u"&&(O="success",g=nt(u==null?void 0:u.data,R,s),Z=!0)}r(this,v)&&(L=r(this,v),g=r(this,F),Y=Date.now(),O="error");const k=D==="fetching",j=O==="pending",B=O==="error",tt=j&&k;return{status:O,fetchStatus:D,isPending:j,isSuccess:O==="success",isError:B,isInitialLoading:tt,isLoading:tt,data:g,dataUpdatedAt:c.dataUpdatedAt,error:L,errorUpdatedAt:Y,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>U.dataUpdateCount||c.errorUpdateCount>U.errorUpdateCount,isFetching:k,isRefetching:k&&!j,isLoadingError:B&&c.dataUpdatedAt===0,isPaused:D==="paused",isPlaceholderData:Z,isRefetchError:B&&c.dataUpdatedAt!==0,isStale:X(t,s),refetch:this.refetch}}updateResult(t){const s=r(this,p),i=this.createResult(r(this,a),this.options);if(o(this,S,r(this,a).state),o(this,I,this.options),r(this,S).data!==void 0&&o(this,T,r(this,a)),_(i,s))return;o(this,p,i);const b={},u=()=>{if(!s)return!0;const{notifyOnChangeProps:h}=this.options,d=typeof h=="function"?h():h;if(d==="all"||!d&&!r(this,x).size)return!0;const m=new Set(d??r(this,x));return this.options.throwOnError&&m.add("error"),Object.keys(r(this,p)).some(U=>{const c=U;return r(this,p)[c]!==s[c]&&m.has(c)})};(t==null?void 0:t.listeners)!==!1&&u()&&(b.listeners=!0),l(this,n,ct).call(this,{...b,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&l(this,n,K).call(this)}},y=new WeakMap,a=new WeakMap,M=new WeakMap,p=new WeakMap,S=new WeakMap,I=new WeakMap,v=new WeakMap,A=new WeakMap,F=new WeakMap,T=new WeakMap,w=new WeakMap,Q=new WeakMap,E=new WeakMap,x=new WeakMap,n=new WeakSet,P=function(t){l(this,n,G).call(this);let s=r(this,a).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(pt)),s},z=function(){if(l(this,n,$).call(this),rt||r(this,p).isStale||!it(this.options.staleTime))return;const s=yt(r(this,p).dataUpdatedAt,this.options.staleTime)+1;o(this,w,setTimeout(()=>{r(this,p).isStale||this.updateResult()},s))},H=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,a)):this.options.refetchInterval)??!1},N=function(t){l(this,n,q).call(this),o(this,E,t),!(rt||this.options.enabled===!1||!it(r(this,E))||r(this,E)===0)&&o(this,Q,setInterval(()=>{(this.options.refetchIntervalInBackground||bt.isFocused())&&l(this,n,P).call(this)},r(this,E)))},K=function(){l(this,n,z).call(this),l(this,n,N).call(this,l(this,n,H).call(this))},$=function(){r(this,w)&&(clearTimeout(r(this,w)),o(this,w,void 0))},q=function(){r(this,Q)&&(clearInterval(r(this,Q)),o(this,Q,void 0))},G=function(){const t=r(this,y).getQueryCache().build(r(this,y),this.options);if(t===r(this,a))return;const s=r(this,a);o(this,a,t),o(this,M,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},ct=function(t){ut.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(r(this,p))}),r(this,y).getQueryCache().notify({query:r(this,a),type:"observerResultsUpdated"})})},ot);function mt(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function at(e,t){return mt(e,t)||e.state.dataUpdatedAt>0&&J(e,t,t.refetchOnMount)}function J(e,t,s){if(t.enabled!==!1){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&X(e,t)}return!1}function ht(e,t,s,i){return s.enabled!==!1&&(e!==t||i.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&X(e,s)}function X(e,t){return e.isStaleByTime(t.staleTime)}function Ct(e,t){return!_(e.getCurrentResult(),t)}var lt=C.createContext(!1),Ot=()=>C.useContext(lt);lt.Provider;function Et(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var St=C.createContext(Et()),wt=()=>C.useContext(St);function Qt(e,t){return typeof e=="function"?e(...t):!!e}var Ut=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},It=e=>{C.useEffect(()=>{e.clearReset()},[e])},Ft=({result:e,errorResetBoundary:t,throwOnError:s,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&Qt(s,[e.error,i]),Tt=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},xt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Dt=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Pt(e,t,s){const i=gt(),b=Ot(),u=wt(),h=i.defaultQueryOptions(e);h._optimisticResults=b?"isRestoring":"optimistic",Tt(h),Ut(h,u),It(u);const[d]=C.useState(()=>new t(i,h)),m=d.getOptimisticResult(h);if(C.useSyncExternalStore(C.useCallback(U=>{const c=b?()=>{}:d.subscribe(ut.batchCalls(U));return d.updateResult(),c},[d,b]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(h,{listeners:!1})},[h,d]),xt(h,m))throw Dt(h,d,u);if(Ft({result:m,errorResetBoundary:u,throwOnError:h.throwOnError,query:i.getQueryCache().get(h.queryHash)}))throw m.error;return h.notifyOnChangeProps?m:d.trackResult(m)}function kt(e,t){return Pt(e,vt)}async function jt(){try{const e=await fetch("https://sabuj0338.github.io/portfolio/data.json");if(!e.ok)throw new Error;return await e.json()}catch{return}}export{jt as g,kt as u};
